\doxysection{GPUPixel\+Buffer Struct Reference}
\hypertarget{struct_g_p_u_pixel_buffer}{}\label{struct_g_p_u_pixel_buffer}\index{GPUPixelBuffer@{GPUPixelBuffer}}


{\ttfamily \#include $<$buffer.\+h$>$}



Collaboration diagram for GPUPixel\+Buffer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{struct_g_p_u_pixel_buffer__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a95fbdde57f678e32157e6a09effa6988}{allocate}} (\mbox{\hyperlink{group___base_types_gafaa62991928fb9fb18ff0db62a040aba}{u32}} width, \mbox{\hyperlink{group___base_types_gafaa62991928fb9fb18ff0db62a040aba}{u32}} height, \mbox{\hyperlink{group___base_types_gafaa62991928fb9fb18ff0db62a040aba}{u32}} format)
\item 
void \mbox{\hyperlink{struct_g_p_u_pixel_buffer_ab6c65fa6feeaa8f3eaeaaf35ed0024a9}{gpu\+\_\+upload}} (\mbox{\hyperlink{group___base_types_ga92c50087ca0e64fa93fc59402c55f8ca}{u8}} channel, std\+::chrono\+::steady\+\_\+clock\+::time\+\_\+point \&fstart)
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a06ab4485fde8b67875dacabd65348965}{load\+\_\+texture}} (\mbox{\hyperlink{struct_g_p_u_pixel_buffer}{GPUPixel\+Buffer}} \texorpdfstring{$\ast$}{*}gpb, \mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}} \texorpdfstring{$\ast$}{*}pbc, const char \texorpdfstring{$\ast$}{*}path)
\item 
static void \mbox{\hyperlink{struct_g_p_u_pixel_buffer_aedb4c2bce7440b7586bd88150748cb2a}{load\+\_\+font}} (\mbox{\hyperlink{struct_g_p_u_pixel_buffer}{GPUPixel\+Buffer}} \texorpdfstring{$\ast$}{*}gpb, \mbox{\hyperlink{struct_font}{Font}} \texorpdfstring{$\ast$}{*}font, const char \texorpdfstring{$\ast$}{*}path, \mbox{\hyperlink{group___base_types_gace9d960e74685e2cd84b36132dbbf8aa}{u16}} size)
\item 
static void \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a3f1274d200d9a7be4035b73c5d3e44ff}{\+\_\+load}} (\mbox{\hyperlink{struct_g_p_u_pixel_buffer}{GPUPixel\+Buffer}} \texorpdfstring{$\ast$}{*}gpb, \mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}} \texorpdfstring{$\ast$}{*}pbc, \mbox{\hyperlink{struct_texture_data}{Texture\+Data}} \texorpdfstring{$\ast$}{*}data)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_texture}{Texture}} \mbox{\hyperlink{struct_g_p_u_pixel_buffer_ae95166b7656de26954a23ec04933e43a}{atlas}}
\item 
\mbox{\hyperlink{group___base_types_ga43182e59794291f6ab00e51b160706c2}{vec2}} \mbox{\hyperlink{struct_g_p_u_pixel_buffer_ae2ef0fc0061732182be6c9e0cb20572e}{dimensions\+\_\+inv}}
\item 
\mbox{\hyperlink{base_8h_ae04d1c68c250f6c36de3f0dce87363cd}{vector}}$<$ \mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}} $>$ \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a439a0fb75b073cb12722386527e79438}{memory\+\_\+segments}}
\item 
std\+::mutex \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a1a4b758f3188641a6f85d314f9958f79}{mutex\+\_\+memory\+\_\+segments}}
\item 
\mbox{\hyperlink{class_in_place_array}{In\+Place\+Array}}$<$ \mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}} $>$ \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a07a2693015eab3f7a91e7725d271cff0}{textures}} = \mbox{\hyperlink{class_in_place_array}{In\+Place\+Array}}$<$\mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}}$>$(\mbox{\hyperlink{config_8h_a0e5d5c0e30ba6ca34824744768bbd9a6}{BUFFER\+\_\+\+MAXIMUM\+\_\+\+TEXTURE\+\_\+\+COUNT}})
\item 
std\+::mutex \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a5261ade26c27df87ac2664b9c404a5db}{mutex\+\_\+texture\+\_\+requests}}
\item 
\mbox{\hyperlink{base_8h_a69ef479f0bd0f6c28029a80ee67cfb1e}{queue}}$<$ \mbox{\hyperlink{struct_texture_data}{Texture\+Data}} $>$ \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a3261a2fcc5d0efa99891895bb033f0f4}{load\+\_\+requests}}
\item 
\mbox{\hyperlink{struct_thread_signal}{Thread\+Signal}} \mbox{\hyperlink{struct_g_p_u_pixel_buffer_a2670ff8a0922a6c8acd661cb17d6fc0d}{signal}}
\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{struct_g_p_u_pixel_buffer_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{struct_g_p_u_pixel_buffer_a3f1274d200d9a7be4035b73c5d3e44ff}\index{GPUPixelBuffer@{GPUPixelBuffer}!\_load@{\_load}}
\index{\_load@{\_load}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{\_load()}{\_load()}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a3f1274d200d9a7be4035b73c5d3e44ff} 
void GPUPixel\+Buffer\+::\+\_\+load (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_g_p_u_pixel_buffer}{GPUPixel\+Buffer}} \texorpdfstring{$\ast$}{*}}]{gpb}{, }\item[{\mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}} \texorpdfstring{$\ast$}{*}}]{pbc}{, }\item[{\mbox{\hyperlink{struct_texture_data}{Texture\+Data}} \texorpdfstring{$\ast$}{*}}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

write texture buffer to preallocated gpu memory 
\begin{DoxyParams}{Parameters}
{\em gpb} & target pixel buffer \\
\hline
{\em pbc} & pointer to atlas component information, this will be overwritten \\
\hline
{\em data} & texture data NOTE this is supposed to run as a subthread, hence the mutex and load request queue pointer \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{struct_g_p_u_pixel_buffer_a3f1274d200d9a7be4035b73c5d3e44ff_icgraph}
\end{center}
\end{figure}
\Hypertarget{struct_g_p_u_pixel_buffer_a95fbdde57f678e32157e6a09effa6988}\index{GPUPixelBuffer@{GPUPixelBuffer}!allocate@{allocate}}
\index{allocate@{allocate}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{allocate()}{allocate()}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a95fbdde57f678e32157e6a09effa6988} 
void GPUPixel\+Buffer\+::allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group___base_types_gafaa62991928fb9fb18ff0db62a040aba}{u32}}}]{width}{, }\item[{\mbox{\hyperlink{group___base_types_gafaa62991928fb9fb18ff0db62a040aba}{u32}}}]{height}{, }\item[{\mbox{\hyperlink{group___base_types_gafaa62991928fb9fb18ff0db62a040aba}{u32}}}]{format}{}\end{DoxyParamCaption})}

allocate video memory to use as we, the programmers please 
\begin{DoxyParams}{Parameters}
{\em width} & buffer width \\
\hline
{\em height} & buffer height \\
\hline
{\em format} & colourspace format of pixels NOTE cannot be executed in subthread, uses context bound to main thread \\
\hline
\end{DoxyParams}
\Hypertarget{struct_g_p_u_pixel_buffer_ab6c65fa6feeaa8f3eaeaaf35ed0024a9}\index{GPUPixelBuffer@{GPUPixelBuffer}!gpu\_upload@{gpu\_upload}}
\index{gpu\_upload@{gpu\_upload}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{gpu\_upload()}{gpu\_upload()}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_ab6c65fa6feeaa8f3eaeaaf35ed0024a9} 
void GPUPixel\+Buffer\+::gpu\+\_\+upload (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group___base_types_ga92c50087ca0e64fa93fc59402c55f8ca}{u8}}}]{channel}{, }\item[{std\+::chrono\+::steady\+\_\+clock\+::time\+\_\+point \&}]{fstart}{}\end{DoxyParamCaption})}

automatically uploads the loaded subtextures to the gpu 
\begin{DoxyParams}{Parameters}
{\em channel} & texture channel \\
\hline
{\em fstart} & time the current frame started NOTE this has to be run in main thread due to the gpu upload being context sensitive \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{struct_g_p_u_pixel_buffer_ab6c65fa6feeaa8f3eaeaaf35ed0024a9_cgraph}
\end{center}
\end{figure}
\Hypertarget{struct_g_p_u_pixel_buffer_aedb4c2bce7440b7586bd88150748cb2a}\index{GPUPixelBuffer@{GPUPixelBuffer}!load\_font@{load\_font}}
\index{load\_font@{load\_font}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{load\_font()}{load\_font()}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_aedb4c2bce7440b7586bd88150748cb2a} 
void GPUPixel\+Buffer\+::load\+\_\+font (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_g_p_u_pixel_buffer}{GPUPixel\+Buffer}} \texorpdfstring{$\ast$}{*}}]{gpb}{, }\item[{\mbox{\hyperlink{struct_font}{Font}} \texorpdfstring{$\ast$}{*}}]{font}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{, }\item[{\mbox{\hyperlink{group___base_types_gace9d960e74685e2cd84b36132dbbf8aa}{u16}}}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

load font data and finally upload to gpu memory 
\begin{DoxyParams}{Parameters}
{\em gpb} & target pixel buffer \\
\hline
{\em font} & pointer to target font memory \\
\hline
{\em path} & path to font file \\
\hline
{\em size} & target rasterization size of vector font NOTE this is supposed to run as a subthread, hence the mutex and load request queue pointer \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{struct_g_p_u_pixel_buffer_aedb4c2bce7440b7586bd88150748cb2a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{struct_g_p_u_pixel_buffer_aedb4c2bce7440b7586bd88150748cb2a_icgraph}
\end{center}
\end{figure}
\Hypertarget{struct_g_p_u_pixel_buffer_a06ab4485fde8b67875dacabd65348965}\index{GPUPixelBuffer@{GPUPixelBuffer}!load\_texture@{load\_texture}}
\index{load\_texture@{load\_texture}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{load\_texture()}{load\_texture()}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a06ab4485fde8b67875dacabd65348965} 
void GPUPixel\+Buffer\+::load\+\_\+texture (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_g_p_u_pixel_buffer}{GPUPixel\+Buffer}} \texorpdfstring{$\ast$}{*}}]{gpb}{, }\item[{\mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}} \texorpdfstring{$\ast$}{*}}]{pbc}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

load texture from path and finally upload to gpu memory 
\begin{DoxyParams}{Parameters}
{\em gpb} & target pixel buffer \\
\hline
{\em pbc} & pointer to atlas component information, this will be overwritten \\
\hline
{\em path} & path to texture file NOTE this is supposed to run as a subthread, hence the mutex and load request queue pointer \\
\hline
\end{DoxyParams}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{struct_g_p_u_pixel_buffer_a06ab4485fde8b67875dacabd65348965_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{struct_g_p_u_pixel_buffer_a06ab4485fde8b67875dacabd65348965_icgraph}
\end{center}
\end{figure}


\label{doc-variable-members}
\Hypertarget{struct_g_p_u_pixel_buffer_doc-variable-members}
\doxysubsection{Member Data Documentation}
\Hypertarget{struct_g_p_u_pixel_buffer_ae95166b7656de26954a23ec04933e43a}\index{GPUPixelBuffer@{GPUPixelBuffer}!atlas@{atlas}}
\index{atlas@{atlas}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{atlas}{atlas}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_ae95166b7656de26954a23ec04933e43a} 
\mbox{\hyperlink{class_texture}{Texture}} GPUPixel\+Buffer\+::atlas}

\Hypertarget{struct_g_p_u_pixel_buffer_ae2ef0fc0061732182be6c9e0cb20572e}\index{GPUPixelBuffer@{GPUPixelBuffer}!dimensions\_inv@{dimensions\_inv}}
\index{dimensions\_inv@{dimensions\_inv}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{dimensions\_inv}{dimensions\_inv}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_ae2ef0fc0061732182be6c9e0cb20572e} 
\mbox{\hyperlink{group___base_types_ga43182e59794291f6ab00e51b160706c2}{vec2}} GPUPixel\+Buffer\+::dimensions\+\_\+inv}

\Hypertarget{struct_g_p_u_pixel_buffer_a3261a2fcc5d0efa99891895bb033f0f4}\index{GPUPixelBuffer@{GPUPixelBuffer}!load\_requests@{load\_requests}}
\index{load\_requests@{load\_requests}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{load\_requests}{load\_requests}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a3261a2fcc5d0efa99891895bb033f0f4} 
\mbox{\hyperlink{base_8h_a69ef479f0bd0f6c28029a80ee67cfb1e}{queue}}$<$\mbox{\hyperlink{struct_texture_data}{Texture\+Data}}$>$ GPUPixel\+Buffer\+::load\+\_\+requests}

\Hypertarget{struct_g_p_u_pixel_buffer_a439a0fb75b073cb12722386527e79438}\index{GPUPixelBuffer@{GPUPixelBuffer}!memory\_segments@{memory\_segments}}
\index{memory\_segments@{memory\_segments}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{memory\_segments}{memory\_segments}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a439a0fb75b073cb12722386527e79438} 
\mbox{\hyperlink{base_8h_ae04d1c68c250f6c36de3f0dce87363cd}{vector}}$<$\mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}}$>$ GPUPixel\+Buffer\+::memory\+\_\+segments}

\Hypertarget{struct_g_p_u_pixel_buffer_a1a4b758f3188641a6f85d314f9958f79}\index{GPUPixelBuffer@{GPUPixelBuffer}!mutex\_memory\_segments@{mutex\_memory\_segments}}
\index{mutex\_memory\_segments@{mutex\_memory\_segments}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{mutex\_memory\_segments}{mutex\_memory\_segments}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a1a4b758f3188641a6f85d314f9958f79} 
std\+::mutex GPUPixel\+Buffer\+::mutex\+\_\+memory\+\_\+segments}

\Hypertarget{struct_g_p_u_pixel_buffer_a5261ade26c27df87ac2664b9c404a5db}\index{GPUPixelBuffer@{GPUPixelBuffer}!mutex\_texture\_requests@{mutex\_texture\_requests}}
\index{mutex\_texture\_requests@{mutex\_texture\_requests}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{mutex\_texture\_requests}{mutex\_texture\_requests}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a5261ade26c27df87ac2664b9c404a5db} 
std\+::mutex GPUPixel\+Buffer\+::mutex\+\_\+texture\+\_\+requests}

\Hypertarget{struct_g_p_u_pixel_buffer_a2670ff8a0922a6c8acd661cb17d6fc0d}\index{GPUPixelBuffer@{GPUPixelBuffer}!signal@{signal}}
\index{signal@{signal}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{signal}{signal}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a2670ff8a0922a6c8acd661cb17d6fc0d} 
\mbox{\hyperlink{struct_thread_signal}{Thread\+Signal}} GPUPixel\+Buffer\+::signal}

\Hypertarget{struct_g_p_u_pixel_buffer_a07a2693015eab3f7a91e7725d271cff0}\index{GPUPixelBuffer@{GPUPixelBuffer}!textures@{textures}}
\index{textures@{textures}!GPUPixelBuffer@{GPUPixelBuffer}}
\doxysubsubsection{\texorpdfstring{textures}{textures}}
{\footnotesize\ttfamily \label{struct_g_p_u_pixel_buffer_a07a2693015eab3f7a91e7725d271cff0} 
\mbox{\hyperlink{class_in_place_array}{In\+Place\+Array}}$<$\mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}}$>$ GPUPixel\+Buffer\+::textures = \mbox{\hyperlink{class_in_place_array}{In\+Place\+Array}}$<$\mbox{\hyperlink{struct_pixel_buffer_component}{Pixel\+Buffer\+Component}}$>$(\mbox{\hyperlink{config_8h_a0e5d5c0e30ba6ca34824744768bbd9a6}{BUFFER\+\_\+\+MAXIMUM\+\_\+\+TEXTURE\+\_\+\+COUNT}})}



The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
core/\mbox{\hyperlink{buffer_8h}{buffer.\+h}}\item 
core/\mbox{\hyperlink{buffer_8cpp}{buffer.\+cpp}}\end{DoxyCompactItemize}
